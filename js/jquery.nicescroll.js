/* jquery.nicescroll
-- version 3.6.0
-- copyright 2014-11-21 InuYaksa*2014
-- licensed under the MIT
--
-- http://nicescroll.areaaperta.com/
-- https://github.com/inuyaksa/jquery.nicescroll
--
*/

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var w=!1,v=!1,b=0,u=2e3,y=0,x=e;var o=["webkit","ms","moz","o"],h=window.requestAnimationFrame||!1,p=window.cancelAnimationFrame||!1;if(!h)for(var t in o)var r=o[t],h=h||window[r+"RequestAnimationFrame"],p=p||(window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"]);function m(){if(c)return c;var e=document.createElement("DIV"),r=e.style,o=navigator.userAgent,t=navigator.platform,i={};i.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,i.isopera="opera"in window,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),i.isie="all"in document&&"attachEvent"in e&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in r),i.isie7=i.isie&&!i.isieold&&(!("documentMode"in document)||7==document.documentMode),i.isie8=i.isie&&"documentMode"in document&&8==document.documentMode,i.isie9=i.isie&&"performance"in window&&9<=document.documentMode,i.isie10=i.isie&&"performance"in window&&10==document.documentMode,i.isie11="msRequestFullscreen"in e&&11<=document.documentMode,i.isie9mobile=/iemobile.9/i.test(o),i.isie9mobile&&(i.isie9=!1),i.isie7mobile=!i.isie9mobile&&i.isie7&&/iemobile/i.test(o),i.ismozilla="MozAppearance"in r,i.iswebkit="WebkitAppearance"in r,i.ischrome="chrome"in window,i.ischrome22=i.ischrome&&i.haspointerlock,i.ischrome26=i.ischrome&&"transition"in r,i.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,i.hasmstouch=window.MSPointerEvent||!1,i.hasw3ctouch=window.PointerEvent||!1,i.ismac=/^mac$/i.test(t),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(t),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in document,i.isandroid=/android/i.test(o),i.haseventlistener="addEventListener"in e,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],s=0;s<n.length;s++)if(void 0!==r[n[s]]){i.trstyle=n[s];break}i.hastransform=!!i.trstyle,i.hastransform&&(r[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(r[i.trstyle])),i.transitionstyle=!1,i.prefixstyle="",i.transitionend=!1,n=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var l=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],a=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(s=0;s<n.length;s++)if(n[s]in r){i.transitionstyle=n[s],i.prefixstyle=l[s],i.transitionend=a[s];break}return i.ischrome26&&(i.prefixstyle=l[1]),i.hastransition=i.transitionstyle,i.cursorgrabvalue=function(){var e=["-webkit-grab","-moz-grab","grab"];(i.ischrome&&!i.ischrome22||i.isie)&&(e=[]);for(var o=0;o<e.length;o++){var t=e[o];if(r.cursor=t,r.cursor==t)return t}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}(),i.hasmousecapture="setCapture"in e,i.hasMutationObserver=!1!==S,e=null,c=i}function i(e,o){var g=this;if(this.version="3.6.0",this.name="nicescroll",this.me=o,this.opt={doc:x("body"),win:!1},x.extend(this.opt,z),this.opt.snapbackspeed=80,e)for(var t in g.opt)void 0!==e[t]&&(g.opt[t]=e[t]);for(this.doc=g.opt.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test((g.opt.win||this.doc)[0].nodeName),this.haswrapper=!1!==g.opt.win,this.win=g.opt.win||(this.ispage?x(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?x(window):this.win,this.body=x("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=g.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;this.id="ascrail"+u++,document.getElementById(this.id););this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=g.opt.overflowx,this.overflowy=g.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=m();var f=x.extend({},this.detected);this.canhwscroll=f.hastransform&&g.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&g.haswrapper,this.hasreversehr=this.isrtlmode&&!f.iswebkit,this.istouchcapable=!1,!f.cantouch||f.isios||f.isandroid||!f.iswebkit&&!f.ismozilla||(this.istouchcapable=!0,f.cantouch=!1),g.opt.enablemouselockapi||(f.hasmousecapture=!1,f.haspointerlock=!1);var r,i=!(this.debounced=function(o,e,t){var r=g.delaylist[o];g.delaylist[o]=e,r||setTimeout(function(){var e=g.delaylist[o];g.delaylist[o]=!1,e.call(g)},t)});function c(e,o,t,r,i,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st}function n(){var e=g.doc.css(f.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}this.synched=function(e,o){return g.synclist[e]=o,i||(h(function(){for(var e in i=!1,g.synclist){var o=g.synclist[e];o&&o.call(g),g.synclist[e]=!1}}),i=!0),e},this.unsynched=function(e){g.synclist[e]&&(g.synclist[e]=!1)},this.css=function(e,o){for(var t in o)g.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?g.getScrollTop():g.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?g.getScrollLeft():g.setScrollLeft(e)},c.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return e<0?this.ed:this.st+Math.round(this.df*o)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},f.hastranslate3d&&f.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){e=n();if(e)return 16==e.length?-e[13]:-e[5];if(g.timerscroll&&g.timerscroll.bz)return g.timerscroll.bz.getNow()}return g.doc.translate.y},this.getScrollLeft=function(e){if(!e){e=n();if(e)return 16==e.length?-e[12]:-e[4];if(g.timerscroll&&g.timerscroll.bh)return g.timerscroll.bh.getNow()}return g.doc.translate.x},this.notifyScrollEvent=function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),o.niceevent=!0,e.dispatchEvent(o)},r=this.isrtlmode?1:-1,f.hastranslate3d&&g.opt.enabletranslate3d?(this.setScrollTop=function(e,o){g.doc.translate.y=e,g.doc.translate.ty=-1*e+"px",g.doc.css(f.trstyle,"translate3d("+g.doc.translate.tx+","+g.doc.translate.ty+",0px)"),o||g.notifyScrollEvent(g.win[0])},this.setScrollLeft=function(e,o){g.doc.translate.x=e,g.doc.translate.tx=e*r+"px",g.doc.css(f.trstyle,"translate3d("+g.doc.translate.tx+","+g.doc.translate.ty+",0px)"),o||g.notifyScrollEvent(g.win[0])}):(this.setScrollTop=function(e,o){g.doc.translate.y=e,g.doc.translate.ty=-1*e+"px",g.doc.css(f.trstyle,"translate("+g.doc.translate.tx+","+g.doc.translate.ty+")"),o||g.notifyScrollEvent(g.win[0])},this.setScrollLeft=function(e,o){g.doc.translate.x=e,g.doc.translate.tx=e*r+"px",g.doc.css(f.trstyle,"translate("+g.doc.translate.tx+","+g.doc.translate.ty+")"),o||g.notifyScrollEvent(g.win[0])})):(this.getScrollTop=function(){return g.docscroll.scrollTop()},this.setScrollTop=function(e){return g.docscroll.scrollTop(e)},this.getScrollLeft=function(){return g.detected.ismozilla&&g.isrtlmode?Math.abs(g.docscroll.scrollLeft()):g.docscroll.scrollLeft()},this.setScrollLeft=function(e){return g.docscroll.scrollLeft(g.detected.ismozilla&&g.isrtlmode?-e:e)}),this.getTarget=function(e){return e&&(e.target||e.srcElement)||!1},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var s={thin:1,medium:3,thick:5};function l(e,o,t){e=e.css(o),o=parseFloat(e);if(isNaN(o)){t=3==(o=s[e]||0)?t?g.win.outerHeight()-g.win.innerHeight():g.win.outerWidth()-g.win.innerWidth():1;return g.isie8&&o&&(o+=1),t?o:0}return o}function a(t,r,i,e){g._bind(t,r,function(e){var o={original:e=e||window.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==r?(o.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(o.deltaX=-.025*e.wheelDeltaX)):o.deltaY=e.detail,i.call(t,o)},e)}function d(e,o,t){var r,i;if(0==e.deltaMode?(r=-Math.floor(e.deltaX*(g.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(g.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*g.opt.mousescrollstep),i=-Math.floor(e.deltaY*g.opt.mousescrollstep)),o&&g.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0,t&&(r<0?g.getScrollLeft()>=g.page.maxw:g.getScrollLeft()<=0)&&(i=r,r=0)),r&&(g.scrollmom&&g.scrollmom.stop(),g.lastdeltax+=r,g.debounced("mousewheelx",function(){var e=g.lastdeltax;g.lastdeltax=0,g.rail.drag||g.doScrollLeftBy(e)},15)),i){if(g.opt.nativeparentscrolling&&t&&!g.ispage&&!g.zoomactive)if(i<0){if(g.getScrollTop()>=g.page.maxh)return!0}else if(g.getScrollTop()<=0)return!0;g.scrollmom&&g.scrollmom.stop(),g.lastdeltay+=i,g.debounced("mousewheely",function(){var e=g.lastdeltay;g.lastdeltay=0,g.rail.drag||g.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(g.isfixed){var e=g.win.offset(),o=g.getDocumentScrollOffset();return e.top-=o.top,e.left-=o.left,e}o=g.win.offset();if(!g.viewport)return o;e=g.viewport.offset();return{top:o.top-e.top,left:o.left-e.left}},this.updateScrollBar=function(e){var o,t,r;g.ishwscroll?(g.rail.css({height:g.win.innerHeight()-(g.opt.railpadding.top+g.opt.railpadding.bottom)}),g.railh&&g.railh.css({width:g.win.innerWidth()-(g.opt.railpadding.left+g.opt.railpadding.right)})):((r={top:(o=g.getOffset()).top,left:o.left-(g.opt.railpadding.left+g.opt.railpadding.right)}).top+=l(g.win,"border-top-width",!0),r.left+=g.rail.align?g.win.outerWidth()-l(g.win,"border-right-width")-g.rail.width:l(g.win,"border-left-width"),(t=g.opt.railoffset)&&(t.top&&(r.top+=t.top),g.rail.align&&t.left&&(r.left+=t.left)),g.railslocked||g.rail.css({top:r.top,left:r.left,height:(e?e.h:g.win.innerHeight())-(g.opt.railpadding.top+g.opt.railpadding.bottom)}),g.zoom&&g.zoom.css({top:r.top+1,left:1==g.rail.align?r.left-20:r.left+g.rail.width+4}),g.railh&&!g.railslocked&&(r={top:o.top,left:o.left},(t=g.opt.railhoffset)&&(t.top&&(r.top+=t.top),t.left&&(r.left+=t.left)),t=g.railh.align?r.top+l(g.win,"border-top-width",!0)+g.win.innerHeight()-g.railh.height:r.top+l(g.win,"border-top-width",!0),r=r.left+l(g.win,"border-left-width"),g.railh.css({top:t-(g.opt.railpadding.top+g.opt.railpadding.bottom),left:r,width:g.railh.width})))},this.doRailClick=function(e,o,t){var r,i;g.railslocked||(g.cancelEvent(e),o?(r=t?g.doScrollLeft:g.doScrollTop)(i=t?(e.pageX-g.railh.offset().left-g.cursorwidth/2)*g.scrollratio.x:(e.pageY-g.rail.offset().top-g.cursorheight/2)*g.scrollratio.y):(r=t?g.doScrollLeftBy:g.doScrollBy,i=t?g.scroll.x:g.scroll.y,e=t?e.pageX-g.railh.offset().left:e.pageY-g.rail.offset().top,t=t?g.view.w:g.view.h,r(e<=i?t:-t)))},g.hasanimationframe=h,g.hascancelanimationframe=p,g.hasanimationframe?g.hascancelanimationframe||(p=function(){g.cancelAnimationFrame=!0}):(h=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},p=clearInterval),this.init=function(){if(g.saved.css=[],f.isie7mobile)return!0;if(f.isoperamini)return!0;if(f.hasmstouch&&g.css(g.ispage?x("html"):g.win,{"-ms-touch-action":"none"}),g.zindex="auto",g.ispage||"auto"!=g.opt.zindex?g.zindex=g.opt.zindex:g.zindex=function(){var e=g.win;if("zIndex"in e)return e.zIndex();for(;0<e.length;){if(9==e[0].nodeType)return!1;var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}()||"auto",g.ispage||"auto"==g.zindex||g.zindex>y&&(y=g.zindex),g.isie&&0==g.zindex&&"auto"==g.opt.zindex&&(g.zindex="auto"),!g.ispage||!f.cantouch&&!f.isieold&&!f.isie9mobile){var e=g.docscroll;g.ispage&&(e=g.haswrapper?g.win:g.doc),f.isie9mobile||g.css(e,{"overflow-y":"hidden"}),g.ispage&&f.isie7&&("BODY"==g.doc[0].nodeName?g.css(x("html"),{"overflow-y":"hidden"}):"HTML"==g.doc[0].nodeName&&g.css(x("body"),{"overflow-y":"hidden"})),!f.isios||g.ispage||g.haswrapper||g.css(x("body"),{"-webkit-overflow-scrolling":"touch"});var o=x(document.createElement("div"));o.css({position:"relative",top:0,float:"right",width:g.opt.cursorwidth,height:"0px","background-color":g.opt.cursorcolor,border:g.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":g.opt.cursorborderradius,"-moz-border-radius":g.opt.cursorborderradius,"border-radius":g.opt.cursorborderradius}),o.hborder=parseFloat(o.outerHeight()-o.innerHeight()),o.addClass("nicescroll-cursors"),g.cursor=o;var t=x(document.createElement("div"));t.attr("id",g.id),t.addClass("nicescroll-rails nicescroll-rails-vr");var r,i,n,s=["left","right","top","bottom"];for(n in s)i=s[n],(r=g.opt.railpadding[i])?t.css("padding-"+i,r+"px"):g.opt.railpadding[i]=0;t.append(o),t.width=Math.max(parseFloat(g.opt.cursorwidth),o.outerWidth()),t.css({width:t.width+"px",zIndex:g.zindex,background:g.opt.background,cursor:"default"}),t.visibility=!0,t.scrollable=!0,t.align="left"==g.opt.railalign?0:1,g.rail=t;var l,a,c,d,u,h,p=g.rail.drag=!1;!g.opt.boxzoom||g.ispage||f.isieold||(p=document.createElement("div"),g.bind(p,"click",g.doZoom),g.bind(p,"mouseenter",function(){g.zoom.css("opacity",g.opt.cursoropacitymax)}),g.bind(p,"mouseleave",function(){g.zoom.css("opacity",g.opt.cursoropacitymin)}),g.zoom=x(p),g.zoom.css({cursor:"pointer","z-index":g.zindex,backgroundImage:"url("+g.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),g.opt.dblclickzoom&&g.bind(g.win,"dblclick",g.doZoom),f.cantouch&&g.opt.gesturezoom&&(g.ongesturezoom=function(e){return 1.5<e.scale&&g.doZoomIn(e),e.scale<.8&&g.doZoomOut(e),g.cancelEvent(e)},g.bind(g.win,"gestureend",g.ongesturezoom))),g.railh=!1,g.opt.horizrailenabled&&(g.css(e,{"overflow-x":"hidden"}),(o=x(document.createElement("div"))).css({position:"absolute",top:0,height:g.opt.cursorwidth,width:"0px","background-color":g.opt.cursorcolor,border:g.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":g.opt.cursorborderradius,"-moz-border-radius":g.opt.cursorborderradius,"border-radius":g.opt.cursorborderradius}),f.isieold&&o.css({overflow:"hidden"}),o.wborder=parseFloat(o.outerWidth()-o.innerWidth()),o.addClass("nicescroll-cursors"),g.cursorh=o,(a=x(document.createElement("div"))).attr("id",g.id+"-hr"),a.addClass("nicescroll-rails nicescroll-rails-hr"),a.height=Math.max(parseFloat(g.opt.cursorwidth),o.outerHeight()),a.css({height:a.height+"px",zIndex:g.zindex,background:g.opt.background}),a.append(o),a.visibility=!0,a.scrollable=!0,a.align="top"==g.opt.railvalign?0:1,g.railh=a,g.railh.drag=!1),g.ispage?(t.css({position:"fixed",top:"0px",height:"100%"}),t.align?t.css({right:"0px"}):t.css({left:"0px"}),g.body.append(t),g.railh&&(a.css({position:"fixed",left:"0px",width:"100%"}),a.align?a.css({bottom:"0px"}):a.css({top:"0px"}),g.body.append(a))):(g.ishwscroll?("static"==g.win.css("position")&&g.css(g.win,{position:"relative"}),l="HTML"==g.win[0].nodeName?g.body:g.win,x(l).scrollTop(0).scrollLeft(0),g.zoom&&(g.zoom.css({position:"absolute",top:1,right:0,"margin-right":t.width+4}),l.append(g.zoom)),t.css({position:"absolute",top:0}),t.align?t.css({right:0}):t.css({left:0}),l.append(t),a&&(a.css({position:"absolute",left:0,bottom:0}),a.align?a.css({bottom:0}):a.css({top:0}),l.append(a))):(g.isfixed="fixed"==g.win.css("position"),l=g.isfixed?"fixed":"absolute",g.isfixed||(g.viewport=g.getViewport(g.win[0])),g.viewport&&(g.body=g.viewport,0==/fixed|absolute/.test(g.viewport.css("position"))&&g.css(g.viewport,{position:"relative"})),t.css({position:l}),g.zoom&&g.zoom.css({position:l}),g.updateScrollBar(),g.body.append(t),g.zoom&&g.body.append(g.zoom),g.railh&&(a.css({position:l}),g.body.append(a))),f.isios&&g.css(g.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),f.isie&&g.opt.disableoutline&&g.win.attr("hideFocus","true"),f.iswebkit&&g.opt.disableoutline&&g.win.css({outline:"none"})),!1===g.opt.autohidemode?(g.autohidedom=!1,g.rail.css({opacity:g.opt.cursoropacitymax}),g.railh&&g.railh.css({opacity:g.opt.cursoropacitymax})):!0===g.opt.autohidemode||"leave"===g.opt.autohidemode?(g.autohidedom=x().add(g.rail),f.isie8&&(g.autohidedom=g.autohidedom.add(g.cursor)),g.railh&&(g.autohidedom=g.autohidedom.add(g.railh)),g.railh&&f.isie8&&(g.autohidedom=g.autohidedom.add(g.cursorh))):"scroll"==g.opt.autohidemode?(g.autohidedom=x().add(g.rail),g.railh&&(g.autohidedom=g.autohidedom.add(g.railh))):"cursor"==g.opt.autohidemode?(g.autohidedom=x().add(g.cursor),g.railh&&(g.autohidedom=g.autohidedom.add(g.cursorh))):"hidden"==g.opt.autohidemode&&(g.autohidedom=!1,g.hide(),g.railslocked=!1),f.isie9mobile?(g.scrollmom=new T(g),g.onmangotouch=function(){var e=g.getScrollTop(),o=g.getScrollLeft();if(e==g.scrollmom.lastscrolly&&o==g.scrollmom.lastscrollx)return!0;var t,r,i,n=e-g.mangotouch.sy,s=o-g.mangotouch.sx;0!=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(n,2)))&&(t=n<0?-1:1,r=s<0?-1:1,i=+new Date,g.mangotouch.lazy&&clearTimeout(g.mangotouch.lazy),80<i-g.mangotouch.tm||g.mangotouch.dry!=t||g.mangotouch.drx!=r?(g.scrollmom.stop(),g.scrollmom.reset(o,e),g.mangotouch.sy=e,g.mangotouch.ly=e,g.mangotouch.sx=o,g.mangotouch.lx=o,g.mangotouch.dry=t,g.mangotouch.drx=r,g.mangotouch.tm=i):(g.scrollmom.stop(),g.scrollmom.update(g.mangotouch.sx-s,g.mangotouch.sy-n),g.mangotouch.tm=i,i=Math.max(Math.abs(g.mangotouch.ly-e),Math.abs(g.mangotouch.lx-o)),g.mangotouch.ly=e,g.mangotouch.lx=o,2<i&&(g.mangotouch.lazy=setTimeout(function(){g.mangotouch.lazy=!1,g.mangotouch.dry=0,g.mangotouch.drx=0,g.mangotouch.tm=0,g.scrollmom.doMomentum(30)},100))))},a=g.getScrollTop(),h=g.getScrollLeft(),g.mangotouch={sy:a,ly:a,dry:0,sx:h,lx:h,drx:0,lazy:!1,tm:0},g.bind(g.docscroll,"scroll",g.onmangotouch)):((f.cantouch||g.istouchcapable||g.opt.touchbehavior||f.hasmstouch)&&(g.scrollmom=new T(g),g.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(g.hasmoving=!1,!g.railslocked){var o,t,r,i,n;if(f.hasmstouch)for(o=e.target||!1;o;){var s=x(o).getNiceScroll();if(0<s.length&&s[0].me==g.me)break;if(0<s.length)return!1;if("DIV"==o.nodeName&&o.id==g.id)break;o=o.parentNode||!1}if(g.cancelScroll(),o=g.getTarget(e),o)if(/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return g.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),g.forcescreen&&((e={original:(r=e).original||e}).clientX=r.screenX,e.clientY=r.screenY),g.rail.drag={x:e.clientX,y:e.clientY,sx:g.scroll.x,sy:g.scroll.y,st:g.getScrollTop(),sl:g.getScrollLeft(),pt:2,dl:!1},g.ispage||!g.opt.directionlockdeadzone?g.rail.drag.dl="f":(n=x(window).width(),i=x(window).height(),t=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),i=Math.max(0,r-i),n=Math.max(0,t-n),!g.rail.scrollable&&g.railh.scrollable?g.rail.drag.ck=0<i&&"v":g.rail.scrollable&&!g.railh.scrollable?g.rail.drag.ck=0<n&&"h":g.rail.drag.ck=!1,g.rail.drag.ck||(g.rail.drag.dl="f")),g.opt.touchbehavior&&g.isiframe&&f.isie&&(n=g.win.position(),g.rail.drag.x+=n.left,g.rail.drag.y+=n.top),g.hasmoving=!1,g.lastmouseup=!1,g.scrollmom.reset(e.clientX,e.clientY),!f.cantouch&&!this.istouchcapable&&!e.pointerType){if(!(!!o&&/INPUT|SELECT|TEXTAREA/i.test(o.nodeName)))return!g.ispage&&f.hasmousecapture&&o.setCapture(),g.opt.touchbehavior?(o.onclick&&!o._onclick&&(o._onclick=o.onclick,o.onclick=function(e){if(g.hasmoving)return!1;o._onclick.call(this,e)}),g.cancelEvent(e)):g.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(x(o).attr("type"))&&(pc={tg:o,click:!1},g.preventclick=pc)}}},g.ontouchend=function(e){return!g.rail.drag||(2==g.rail.drag.pt?(!e.pointerType||2==e.pointerType||"touch"==e.pointerType)&&(g.scrollmom.doMomentum(),g.rail.drag=!1,g.hasmoving&&(g.lastmouseup=!0,g.hideCursor(),f.hasmousecapture&&document.releaseCapture(),!f.cantouch)?g.cancelEvent(e):void 0):1==g.rail.drag.pt?g.onmouseup(e):void 0)},c=g.opt.touchbehavior&&g.isiframe&&!f.hasmousecapture,g.ontouchmove=function(e,o){if(!g.rail.drag)return!1;if(e.targetTouches&&g.opt.preventmultitouchscrolling&&1<e.targetTouches.length)return!1;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2!=g.rail.drag.pt)return 1==g.rail.drag.pt?g.onmousemove(e):void 0;if(f.cantouch&&f.isios&&void 0===e.original)return!0;g.hasmoving=!0,g.preventclick&&!g.preventclick.click&&(g.preventclick.click=g.preventclick.tg.onclick||!1,g.preventclick.tg.onclick=g.onpreventclick),"changedTouches"in(e=x.extend({original:e},e))&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),g.forcescreen&&((e={original:(a=e).original||e}).clientX=a.screenX,e.clientY=a.screenY),a=l=0,c&&!o&&(a=-(n=g.win.position()).left,l=-n.top);var t,r=e.clientY+l,o=r-g.rail.drag.y,i=e.clientX+a,n=i-g.rail.drag.x,s=g.rail.drag.st-o;g.ishwscroll&&g.opt.bouncescroll?s<0?s=Math.round(s/2):s>g.page.maxh&&(s=g.page.maxh+Math.round((s-g.page.maxh)/2)):(s<0&&(r=s=0),s>g.page.maxh&&(s=g.page.maxh,r=0)),g.railh&&g.railh.scrollable&&(t=g.isrtlmode?n-g.rail.drag.sl:g.rail.drag.sl-n,g.ishwscroll&&g.opt.bouncescroll?t<0?t=Math.round(t/2):t>g.page.maxw&&(t=g.page.maxw+Math.round((t-g.page.maxw)/2)):(t<0&&(i=t=0),t>g.page.maxw&&(t=g.page.maxw,i=0)));var l=!1;if(g.rail.drag.dl)l=!0,"v"==g.rail.drag.dl?t=g.rail.drag.sl:"h"==g.rail.drag.dl&&(s=g.rail.drag.st);else{var a=Math.abs(o),o=Math.abs(n),n=g.opt.directionlockdeadzone;if("v"==g.rail.drag.ck){if(n<a&&o<=.3*a)return!(g.rail.drag=!1);n<o&&(g.rail.drag.dl="f",x("body").scrollTop(x("body").scrollTop()))}else if("h"==g.rail.drag.ck){if(n<o&&a<=.3*o)return!(g.rail.drag=!1);n<a&&(g.rail.drag.dl="f",x("body").scrollLeft(x("body").scrollLeft()))}}return g.synched("touchmove",function(){g.rail.drag&&2==g.rail.drag.pt&&(g.prepareTransition&&g.prepareTransition(0),g.rail.scrollable&&g.setScrollTop(s),g.scrollmom.update(i,r),g.railh&&g.railh.scrollable?(g.setScrollLeft(t),g.showCursor(s,t)):g.showCursor(s),f.isie10&&document.selection.clear())}),f.ischrome&&g.istouchcapable&&(l=!1),l?g.cancelEvent(e):void 0}),g.onmousedown=function(e,o){if(!g.rail.drag||1==g.rail.drag.pt){if(g.railslocked)return g.cancelEvent(e);g.cancelScroll(),g.rail.drag={x:e.clientX,y:e.clientY,sx:g.scroll.x,sy:g.scroll.y,pt:1,hr:!!o};o=g.getTarget(e);return!g.ispage&&f.hasmousecapture&&o.setCapture(),g.isiframe&&!f.hasmousecapture&&(g.saved.csspointerevents=g.doc.css("pointer-events"),g.css(g.doc,{"pointer-events":"none"})),g.hasmoving=!1,g.cancelEvent(e)}},g.onmouseup=function(e){if(g.rail.drag)return 1!=g.rail.drag.pt||(f.hasmousecapture&&document.releaseCapture(),g.isiframe&&!f.hasmousecapture&&g.doc.css("pointer-events",g.saved.csspointerevents),g.rail.drag=!1,g.hasmoving&&g.triggerScrollEnd(),g.cancelEvent(e))},g.onmousemove=function(e){var o;if(g.rail.drag&&1==g.rail.drag.pt)return f.ischrome&&0==e.which?g.onmouseup(e):(g.cursorfreezed=!0,g.hasmoving=!0,g.rail.drag.hr?(g.scroll.x=g.rail.drag.sx+(e.clientX-g.rail.drag.x),g.scroll.x<0&&(g.scroll.x=0),o=g.scrollvaluemaxw,g.scroll.x>o&&(g.scroll.x=o)):(g.scroll.y=g.rail.drag.sy+(e.clientY-g.rail.drag.y),g.scroll.y<0&&(g.scroll.y=0),o=g.scrollvaluemax,g.scroll.y>o&&(g.scroll.y=o)),g.synched("mousemove",function(){g.rail.drag&&1==g.rail.drag.pt&&(g.showCursor(),g.rail.drag.hr?g.hasreversehr?g.doScrollLeft(g.scrollvaluemaxw-Math.round(g.scroll.x*g.scrollratio.x),g.opt.cursordragspeed):g.doScrollLeft(Math.round(g.scroll.x*g.scrollratio.x),g.opt.cursordragspeed):g.doScrollTop(Math.round(g.scroll.y*g.scrollratio.y),g.opt.cursordragspeed))}),g.cancelEvent(e))},f.cantouch||g.opt.touchbehavior?(g.onpreventclick=function(e){if(g.preventclick)return g.preventclick.tg.onclick=g.preventclick.click,g.preventclick=!1,g.cancelEvent(e)},g.bind(g.win,"mousedown",g.ontouchstart),g.onclick=!f.isios&&function(e){return!g.lastmouseup||(g.lastmouseup=!1,g.cancelEvent(e))},g.opt.grabcursorenabled&&f.cursorgrabvalue&&(g.css(g.ispage?g.doc:g.win,{cursor:f.cursorgrabvalue}),g.css(g.rail,{cursor:f.cursorgrabvalue}))):(d=function(e){var o,t;g.selectiondrag&&(e&&(o=g.win.outerHeight(),0<(t=e.pageY-g.selectiondrag.top)&&t<o&&(t=0),o<=t&&(t-=o),g.selectiondrag.df=t),0!=g.selectiondrag.df&&(t=2*-Math.floor(g.selectiondrag.df/6),g.doScrollBy(t),g.debounced("doselectionscroll",function(){d()},50)))},"getSelection"in document?g.hasTextSelected=function(){return 0<document.getSelection().rangeCount}:"selection"in document?g.hasTextSelected=function(){return"None"!=document.selection.type}:g.hasTextSelected=function(){return!1},g.onselectionstart=function(e){g.ispage||(g.selectiondrag=g.win.offset())},g.onselectionend=function(e){g.selectiondrag=!1},g.onselectiondrag=function(e){g.selectiondrag&&g.hasTextSelected()&&g.debounced("selectionscroll",function(){d(e)},250)}),f.hasw3ctouch?(g.css(g.rail,{"touch-action":"none"}),g.css(g.cursor,{"touch-action":"none"}),g.bind(g.win,"pointerdown",g.ontouchstart),g.bind(document,"pointerup",g.ontouchend),g.bind(document,"pointermove",g.ontouchmove)):f.hasmstouch?(g.css(g.rail,{"-ms-touch-action":"none"}),g.css(g.cursor,{"-ms-touch-action":"none"}),g.bind(g.win,"MSPointerDown",g.ontouchstart),g.bind(document,"MSPointerUp",g.ontouchend),g.bind(document,"MSPointerMove",g.ontouchmove),g.bind(g.cursor,"MSGestureHold",function(e){e.preventDefault()}),g.bind(g.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(g.bind(g.win,"touchstart",g.ontouchstart),g.bind(document,"touchend",g.ontouchend),g.bind(document,"touchcancel",g.ontouchend),g.bind(document,"touchmove",g.ontouchmove)),!g.opt.cursordragontouch&&(f.cantouch||g.opt.touchbehavior)||(g.rail.css({cursor:"default"}),g.railh&&g.railh.css({cursor:"default"}),g.jqbind(g.rail,"mouseenter",function(){return!(!g.ispage&&!g.win.is(":visible"))&&(g.canshowonmouseevent&&g.showCursor(),void(g.rail.active=!0))}),g.jqbind(g.rail,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}),g.opt.sensitiverail&&(g.bind(g.rail,"click",function(e){g.doRailClick(e,!1,!1)}),g.bind(g.rail,"dblclick",function(e){g.doRailClick(e,!0,!1)}),g.bind(g.cursor,"click",function(e){g.cancelEvent(e)}),g.bind(g.cursor,"dblclick",function(e){g.cancelEvent(e)})),g.railh&&(g.jqbind(g.railh,"mouseenter",function(){return!(!g.ispage&&!g.win.is(":visible"))&&(g.canshowonmouseevent&&g.showCursor(),void(g.rail.active=!0))}),g.jqbind(g.railh,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}),g.opt.sensitiverail&&(g.bind(g.railh,"click",function(e){g.doRailClick(e,!1,!0)}),g.bind(g.railh,"dblclick",function(e){g.doRailClick(e,!0,!0)}),g.bind(g.cursorh,"click",function(e){g.cancelEvent(e)}),g.bind(g.cursorh,"dblclick",function(e){g.cancelEvent(e)})))),f.cantouch||g.opt.touchbehavior?(g.bind(f.hasmousecapture?g.win:document,"mouseup",g.ontouchend),g.bind(document,"mousemove",g.ontouchmove),g.onclick&&g.bind(document,"click",g.onclick),g.opt.cursordragontouch&&(g.bind(g.cursor,"mousedown",g.onmousedown),g.bind(g.cursor,"mouseup",g.onmouseup),g.cursorh&&g.bind(g.cursorh,"mousedown",function(e){g.onmousedown(e,!0)}),g.cursorh&&g.bind(g.cursorh,"mouseup",g.onmouseup))):(g.bind(f.hasmousecapture?g.win:document,"mouseup",g.onmouseup),g.bind(document,"mousemove",g.onmousemove),g.onclick&&g.bind(document,"click",g.onclick),g.bind(g.cursor,"mousedown",g.onmousedown),g.bind(g.cursor,"mouseup",g.onmouseup),g.railh&&(g.bind(g.cursorh,"mousedown",function(e){g.onmousedown(e,!0)}),g.bind(g.cursorh,"mouseup",g.onmouseup)),!g.ispage&&g.opt.enablescrollonselection&&(g.bind(g.win[0],"mousedown",g.onselectionstart),g.bind(document,"mouseup",g.onselectionend),g.bind(g.cursor,"mouseup",g.onselectionend),g.cursorh&&g.bind(g.cursorh,"mouseup",g.onselectionend),g.bind(document,"mousemove",g.onselectiondrag)),g.zoom&&(g.jqbind(g.zoom,"mouseenter",function(){g.canshowonmouseevent&&g.showCursor(),g.rail.active=!0}),g.jqbind(g.zoom,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}))),g.opt.enablemousewheel&&(g.isiframe||g.bind(f.isie&&g.ispage?document:g.win,"mousewheel",g.onmousewheel),g.bind(g.rail,"mousewheel",g.onmousewheel),g.railh&&g.bind(g.railh,"mousewheel",g.onmousewheelhr)),g.ispage||f.cantouch||/HTML|^BODY/.test(g.win[0].nodeName)||(g.win.attr("tabindex")||g.win.attr({tabindex:b++}),g.jqbind(g.win,"focus",function(e){w=g.getTarget(e).id||!0,g.hasfocus=!0,g.canshowonmouseevent&&g.noticeCursor()}),g.jqbind(g.win,"blur",function(e){w=!1,g.hasfocus=!1}),g.jqbind(g.win,"mouseenter",function(e){v=g.getTarget(e).id||!0,g.hasmousefocus=!0,g.canshowonmouseevent&&g.noticeCursor()}),g.jqbind(g.win,"mouseleave",function(){v=!1,g.hasmousefocus=!1,g.rail.drag||g.hideCursor()}))),g.onkeypress=function(e){if(g.railslocked&&0==g.page.maxh)return!0;e=e||window.e;var o=g.getTarget(e);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!(o.getAttribute("type")||o.type||!1)||!/submit|button|cancel/i.tp))return!0;if(x(o).attr("contenteditable"))return!0;if(g.hasfocus||g.hasmousefocus&&!w||g.ispage&&!w&&!v){o=e.keyCode;if(g.railslocked&&27!=o)return g.cancelEvent(e);var t=e.ctrlKey||!1,r=e.shiftKey||!1,i=!1;switch(o){case 38:case 63233:g.doScrollBy(72),i=!0;break;case 40:case 63235:g.doScrollBy(-72),i=!0;break;case 37:case 63232:g.railh&&(t?g.doScrollLeft(0):g.doScrollLeftBy(72),i=!0);break;case 39:case 63234:g.railh&&(t?g.doScrollLeft(g.page.maxw):g.doScrollLeftBy(-72),i=!0);break;case 33:case 63276:g.doScrollBy(g.view.h),i=!0;break;case 34:case 63277:g.doScrollBy(-g.view.h),i=!0;break;case 36:case 63273:g.railh&&t?g.doScrollPos(0,0):g.doScrollTo(0),i=!0;break;case 35:case 63275:g.railh&&t?g.doScrollPos(g.page.maxw,g.page.maxh):g.doScrollTo(g.page.maxh),i=!0;break;case 32:g.opt.spacebarenabled&&(r?g.doScrollBy(g.view.h):g.doScrollBy(-g.view.h),i=!0);break;case 27:g.zoomactive&&(g.doZoom(),i=!0)}return i?g.cancelEvent(e):void 0}},g.opt.enablekeyboard&&g.bind(document,f.isopera&&!f.isopera12?"keypress":"keydown",g.onkeypress),g.bind(document,"keydown",function(e){!e.ctrlKey&&1||(g.wheelprevented=!0)}),g.bind(document,"keyup",function(e){e.ctrlKey||!1||(g.wheelprevented=!1)}),g.bind(window,"blur",function(e){g.wheelprevented=!1}),g.bind(window,"resize",g.lazyResize),g.bind(window,"orientationchange",g.lazyResize),g.bind(window,"load",g.lazyResize),!f.ischrome||g.ispage||g.haswrapper||(u=g.win.attr("style"),h=parseFloat(g.win.css("width"))+1,g.win.css("width",h),g.synched("chromefix",function(){g.win.attr("style",u)})),!(g.onAttributeChange=function(e){g.lazyResize(g.isieold?250:30)})!==S&&(g.observerbody=new S(function(e){if(e.forEach(function(e){if("attributes"==e.type)return x("body").hasClass("modal-open")?g.hide():g.show()}),document.body.scrollHeight!=g.page.maxh)return g.lazyResize(30)}),g.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),g.ispage||g.haswrapper||(!1!==S?(g.observer=new S(function(e){e.forEach(g.onAttributeChange)}),g.observer.observe(g.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),g.observerremover=new S(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var o in e.removedNodes)if(g&&e.removedNodes[o]==g.win[0])return g.remove()})}),g.observerremover.observe(g.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(g.bind(g.win,f.isie&&!f.isie9?"propertychange":"DOMAttrModified",g.onAttributeChange),f.isie9&&g.win[0].attachEvent("onpropertychange",g.onAttributeChange),g.bind(g.win,"DOMNodeRemoved",function(e){e.target==g.win[0]&&g.remove()}))),!g.ispage&&g.opt.boxzoom&&g.bind(window,"resize",g.resizeZoom),g.istextarea&&g.bind(g.win,"mouseup",g.lazyResize),g.lazyResize(30)}var m;"IFRAME"==this.doc[0].nodeName&&(m=function(){var o,e;g.iframexd=!1;try{(o="contentDocument"in this?this.contentDocument:this.contentWindow.document).domain}catch(e){o=!(g.iframexd=!0)}if(g.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;g.forcescreen=!0,g.isiframe&&(g.iframe={doc:x(o),html:g.doc.contents().find("html")[0],body:g.doc.contents().find("body")[0]},g.getContentSize=function(){return{w:Math.max(g.iframe.html.scrollWidth,g.iframe.body.scrollWidth),h:Math.max(g.iframe.html.scrollHeight,g.iframe.body.scrollHeight)}},g.docscroll=x(g.iframe.body)),f.isios||!g.opt.iframeautoresize||g.isiframe||(g.win.scrollTop(0),g.doc.height(""),e=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),g.doc.height(e)),g.lazyResize(30),f.isie7&&g.css(x(g.iframe.html),{"overflow-y":"hidden"}),g.css(x(g.iframe.body),{"overflow-y":"hidden"}),f.isios&&g.haswrapper&&g.css(x(o.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?g.bind(this.contentWindow,"scroll",g.onscroll):g.bind(o,"scroll",g.onscroll),g.opt.enablemousewheel&&g.bind(o,"mousewheel",g.onmousewheel),g.opt.enablekeyboard&&g.bind(o,f.isopera?"keypress":"keydown",g.onkeypress),(f.cantouch||g.opt.touchbehavior)&&(g.bind(o,"mousedown",g.ontouchstart),g.bind(o,"mousemove",function(e){return g.ontouchmove(e,!0)}),g.opt.grabcursorenabled&&f.cursorgrabvalue&&g.css(x(o.body),{cursor:f.cursorgrabvalue})),g.bind(o,"mouseup",g.ontouchend),g.zoom&&(g.opt.dblclickzoom&&g.bind(o,"dblclick",g.doZoom),g.ongesturezoom&&g.bind(o,"gestureend",g.ongesturezoom))},this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){m.call(g.doc[0],!1)},500),g.bind(this.doc,"load",m))},this.showCursor=function(e,o){g.cursortimeout&&(clearTimeout(g.cursortimeout),g.cursortimeout=0),g.rail&&(g.autohidedom&&(g.autohidedom.stop().css({opacity:g.opt.cursoropacitymax}),g.cursoractive=!0),g.rail.drag&&1==g.rail.drag.pt||(void 0!==e&&!1!==e&&(g.scroll.y=Math.round(+e/g.scrollratio.y)),void 0!==o&&(g.scroll.x=Math.round(+o/g.scrollratio.x))),g.cursor.css({height:g.cursorheight,top:g.scroll.y}),g.cursorh&&(o=g.hasreversehr?g.scrollvaluemaxw-g.scroll.x:g.scroll.x,!g.rail.align&&g.rail.visibility?g.cursorh.css({width:g.cursorwidth,left:o+g.rail.width}):g.cursorh.css({width:g.cursorwidth,left:o}),g.cursoractive=!0),g.zoom&&g.zoom.stop().css({opacity:g.opt.cursoropacitymax}))},this.hideCursor=function(e){g.cursortimeout||g.rail&&g.autohidedom&&(g.hasmousefocus&&"leave"==g.opt.autohidemode||(g.cursortimeout=setTimeout(function(){g.rail.active&&g.showonmouseevent||(g.autohidedom.stop().animate({opacity:g.opt.cursoropacitymin}),g.zoom&&g.zoom.stop().animate({opacity:g.opt.cursoropacitymin}),g.cursoractive=!1),g.cursortimeout=0},e||g.opt.hidecursordelay)))},this.noticeCursor=function(e,o,t){g.showCursor(o,t),g.rail.active||g.hideCursor(e)},this.getContentSize=g.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:g.haswrapper?function(){return{w:g.doc.outerWidth()+parseInt(g.win.css("paddingLeft"))+parseInt(g.win.css("paddingRight")),h:g.doc.outerHeight()+parseInt(g.win.css("paddingTop"))+parseInt(g.win.css("paddingBottom"))}}:function(){return{w:g.docscroll[0].scrollWidth,h:g.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!g||!g.win)return!1;if(!g.haswrapper&&!g.ispage){if("none"==g.win.css("display"))return g.visibility&&g.hideRail().hideRailHr(),!1;g.hidden||g.visibility||g.showRail().showRailHr()}var t=g.page.maxh,r=g.page.maxw,i=g.view.h,n=g.view.w;if(g.view={w:g.ispage?g.win.width():parseInt(g.win[0].clientWidth),h:g.ispage?g.win.height():parseInt(g.win[0].clientHeight)},g.page=o||g.getContentSize(),g.page.maxh=Math.max(0,g.page.h-g.view.h),g.page.maxw=Math.max(0,g.page.w-g.view.w),g.page.maxh==t&&g.page.maxw==r&&g.view.w==n&&g.view.h==i){if(g.ispage)return g;n=g.win.offset();if(g.lastposition){i=g.lastposition;if(i.top==n.top&&i.left==n.left)return g}g.lastposition=n}return 0==g.page.maxh?(g.hideRail(),g.scrollvaluemax=0,g.scroll.y=0,g.scrollratio.y=0,g.cursorheight=0,g.setScrollTop(0),g.rail.scrollable=!1):(g.page.maxh-=g.opt.railpadding.top+g.opt.railpadding.bottom,g.rail.scrollable=!0),0==g.page.maxw?(g.hideRailHr(),g.scrollvaluemaxw=0,g.scroll.x=0,g.scrollratio.x=0,g.cursorwidth=0,g.setScrollLeft(0),g.railh.scrollable=!1):(g.page.maxw-=g.opt.railpadding.left+g.opt.railpadding.right,g.railh.scrollable=!0),g.railslocked=g.locked||0==g.page.maxh&&0==g.page.maxw,g.railslocked?(g.ispage||g.updateScrollBar(g.view),!1):(g.hidden||g.visibility?g.hidden||g.railh.visibility||g.showRailHr():g.showRail().showRailHr(),g.istextarea&&g.win.css("resize")&&"none"!=g.win.css("resize")&&(g.view.h-=20),g.cursorheight=Math.min(g.view.h,Math.round(g.view.h*(g.view.h/g.page.h))),g.cursorheight=g.opt.cursorfixedheight||Math.max(g.opt.cursorminheight,g.cursorheight),g.cursorwidth=Math.min(g.view.w,Math.round(g.view.w*(g.view.w/g.page.w))),g.cursorwidth=g.opt.cursorfixedheight||Math.max(g.opt.cursorminheight,g.cursorwidth),g.scrollvaluemax=g.view.h-g.cursorheight-g.cursor.hborder-(g.opt.railpadding.top+g.opt.railpadding.bottom),g.railh&&(g.railh.width=0<g.page.maxh?g.view.w-g.rail.width:g.view.w,g.scrollvaluemaxw=g.railh.width-g.cursorwidth-g.cursorh.wborder-(g.opt.railpadding.left+g.opt.railpadding.right)),g.ispage||g.updateScrollBar(g.view),g.scrollratio={x:g.page.maxw/g.scrollvaluemaxw,y:g.page.maxh/g.scrollvaluemax},g.getScrollTop()>g.page.maxh?g.doScrollTop(g.page.maxh):(g.scroll.y=Math.round(g.getScrollTop()*(1/g.scrollratio.y)),g.scroll.x=Math.round(g.getScrollLeft()*(1/g.scrollratio.x)),g.cursoractive&&g.noticeCursor()),g.scroll.y&&0==g.getScrollTop()&&g.doScrollTo(Math.floor(g.scroll.y*g.scrollratio.y)),g)},this.resize=g.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,g.debounced("resize",g.resize,e),g},this.jqbind=function(e,o,t){g.events.push({e:e,n:o,f:t,q:!0}),x(e).bind(o,t)},this.bind=function(e,o,t,r){var i,n="jquery"in e?e[0]:e;"mousewheel"==o?window.addEventListener||"onwheel"in document?g._bind(n,"wheel",t,r||!1):(i=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",a(n,i,t,r||!1),"DOMMouseScroll"==i&&a(n,"MozMousePixelScroll",t,r||!1)):n.addEventListener?(f.cantouch&&/mouseup|mousedown|mousemove/.test(o)&&(i="mousedown"==o?"touchstart":"mouseup"==o?"touchend":"touchmove",g._bind(n,i,function(e){var o;e.touches?e.touches.length<2&&((o=e.touches.length?e.touches[0]:e).original=e,t.call(this,o)):e.changedTouches&&((o=e.changedTouches[0]).original=e,t.call(this,o))},r||!1)),g._bind(n,o,t,r||!1),f.cantouch&&"mouseup"==o&&g._bind(n,"touchcancel",t,r||!1)):g._bind(n,o,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==t.call(n,e)&&!1!==r||g.cancelEvent(e)})},f.haseventlistener?(this._bind=function(e,o,t,r){g.events.push({e:e,n:o,f:t,b:r,q:!1}),e.addEventListener(o,t,r||!1)},this.cancelEvent=function(e){return e&&((e=e.original||e).preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation()),!1},this.stopPropagation=function(e){return e&&(e=e.original||e).stopPropagation(),!1},this._unbind=function(e,o,t,r){e.removeEventListener(o,t,r)}):(this._bind=function(e,o,t,r){g.events.push({e:e,n:o,f:t,b:r,q:!1}),e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.cancelEvent=function(e){return!!(e=window.event||!1)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=window.event||!1)&&!(e.cancelBubble=!0)},this._unbind=function(e,o,t,r){e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1}),this.unbindAll=function(){for(var e=0;e<g.events.length;e++){var o=g.events[e];o.q?o.e.unbind(o.n,o.f):g._unbind(o.e,o.n,o.f,o.b)}},this.showRail=function(){return 0==g.page.maxh||!g.ispage&&"none"==g.win.css("display")||(g.visibility=!0,g.rail.visibility=!0,g.rail.css("display","block")),g},this.showRailHr=function(){return g.railh&&(0==g.page.maxw||!g.ispage&&"none"==g.win.css("display")||(g.railh.visibility=!0,g.railh.css("display","block"))),g},this.hideRail=function(){return g.visibility=!1,g.rail.visibility=!1,g.rail.css("display","none"),g},this.hideRailHr=function(){return g.railh&&(g.railh.visibility=!1,g.railh.css("display","none")),g},this.show=function(){return g.hidden=!1,g.railslocked=!1,g.showRail().showRailHr()},this.hide=function(){return g.hidden=!0,g.railslocked=!0,g.hideRail().hideRailHr()},this.toggle=function(){return g.hidden?g.show():g.hide()},this.remove=function(){g.stop(),g.cursortimeout&&clearTimeout(g.cursortimeout),g.doZoomOut(),g.unbindAll(),f.isie9&&g.win[0].detachEvent("onpropertychange",g.onAttributeChange),!1!==g.observer&&g.observer.disconnect(),!1!==g.observerremover&&g.observerremover.disconnect(),!1!==g.observerbody&&g.observerbody.disconnect(),g.events=null,g.cursor&&g.cursor.remove(),g.cursorh&&g.cursorh.remove(),g.rail&&g.rail.remove(),g.railh&&g.railh.remove(),g.zoom&&g.zoom.remove();for(var e=0;e<g.saved.css.length;e++){var o=g.saved.css[e];o[0].css(o[1],void 0===o[2]?"":o[2])}g.saved=!1,g.me.data("__nicescroll","");var t,r=x.nicescroll;for(t in r.each(function(e){if(this&&this.id===g.id){delete r[e];for(var o=++e;o<r.length;o++,e++)r[e]=r[o];r.length--,r.length&&delete r[r.length]}}),g)g[t]=null,delete g[t];g=null},this.scrollstart=function(e){return this.onscrollstart=e,g},this.scrollend=function(e){return this.onscrollend=e,g},this.scrollcancel=function(e){return this.onscrollcancel=e,g},this.zoomin=function(e){return this.onzoomin=e,g},this.zoomout=function(e){return this.onzoomout=e,g},this.isScrollable=function(e){var o=e.target||e;if("OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=x(o),t=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return o.clientHeight!=o.scrollHeight;o=o.parentNode||!1}return!1},this.getViewport=function(e){for(var o=!(!e||!e.parentNode)&&e.parentNode;o&&1==o.nodeType&&!/^BODY|HTML/.test(o.nodeName);){var t=x(o);if(/fixed|absolute/.test(t.css("position")))return t;var r=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(r)&&o.clientHeight!=o.scrollHeight)return t;if(0<t.getNiceScroll().length)return t;o=o.parentNode||!1}return!1},this.triggerScrollEnd=function(){var e,o;g.onscrollend&&(o={type:"scrollend",current:{x:e=g.getScrollLeft(),y:o=g.getScrollTop()},end:{x:e,y:o}},g.onscrollend.call(g,o))},this.onmousewheel=function(e){if(!g.wheelprevented){if(g.railslocked)return g.debounced("checkunlock",g.resize,250),!0;if(g.rail.drag)return g.cancelEvent(e);if("auto"==g.opt.oneaxismousemode&&0!=e.deltaX&&(g.opt.oneaxismousemode=!1),g.opt.oneaxismousemode&&0==e.deltaX&&!g.rail.scrollable)return!g.railh||!g.railh.scrollable||g.onmousewheelhr(e);var o=+new Date,t=!1;if(g.opt.preservenativescrolling&&g.checkarea+600<o&&(g.nativescrollingarea=g.isScrollable(e),t=!0),g.checkarea=o,g.nativescrollingarea)return!0;t=d(e,!1,t);return t&&(g.checkarea=0),t}},this.onmousewheelhr=function(e){if(!g.wheelprevented){if(g.railslocked||!g.railh.scrollable)return!0;if(g.rail.drag)return g.cancelEvent(e);var o=+new Date,t=!1;return g.opt.preservenativescrolling&&g.checkarea+600<o&&(g.nativescrollingarea=g.isScrollable(e),t=!0),g.checkarea=o,!!g.nativescrollingarea||(g.railslocked?g.cancelEvent(e):d(e,!0,t))}},this.stop=function(){return g.cancelScroll(),g.scrollmon&&g.scrollmon.stop(),g.cursorfreezed=!1,g.scroll.y=Math.round(g.getScrollTop()*(1/g.scrollratio.y)),g.noticeCursor(),g},this.getTransitionSpeed=function(e){var o=Math.round(10*g.opt.scrollspeed),e=Math.min(o,Math.round(e/20*g.opt.scrollspeed));return 20<e?e:0},g.opt.smoothscroll?g.ishwscroll&&f.hastransition&&g.opt.usetransition&&g.opt.smoothscroll?(this.prepareTransition=function(e,o){o=o?20<e?e:0:g.getTransitionSpeed(e),e=o?f.prefixstyle+"transform "+o+"ms ease-out":"";return g.lasttransitionstyle&&g.lasttransitionstyle==e||(g.lasttransitionstyle=e,g.doc.css(f.transitionstyle,e)),o},this.doScrollLeft=function(e,o){var t=g.scrollrunning?g.newscrolly:g.getScrollTop();g.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=g.scrollrunning?g.newscrollx:g.getScrollLeft();g.doScrollPos(t,e,o)},this.doScrollPos=function(i,n,e){var o=g.getScrollTop(),t=g.getScrollLeft();return((g.newscrolly-o)*(n-o)<0||(g.newscrollx-t)*(i-t)<0)&&g.cancelScroll(),0==g.opt.bouncescroll&&(n<0?n=0:n>g.page.maxh&&(n=g.page.maxh),i<0?i=0:i>g.page.maxw&&(i=g.page.maxw)),(!g.scrollrunning||i!=g.newscrollx||n!=g.newscrolly)&&(g.newscrolly=n,g.newscrollx=i,g.newscrollspeed=e||!1,!g.timer&&void(g.timer=setTimeout(function(){var e=g.getScrollTop(),o=g.getScrollLeft(),t={};t.x=i-o,t.y=n-e,t.px=o,t.py=e;var r=Math.round(Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))),t=g.newscrollspeed&&1<g.newscrollspeed?g.newscrollspeed:g.getTransitionSpeed(r);g.newscrollspeed&&g.newscrollspeed<=1&&(t*=g.newscrollspeed),g.prepareTransition(t,!0),g.timerscroll&&g.timerscroll.tm&&clearInterval(g.timerscroll.tm),0<t&&(!g.scrollrunning&&g.onscrollstart&&(r={type:"scrollstart",current:{x:o,y:e},request:{x:i,y:n},end:{x:g.newscrollx,y:g.newscrolly},speed:t},g.onscrollstart.call(g,r)),f.transitionend?g.scrollendtrapped||(g.scrollendtrapped=!0,g.bind(g.doc,f.transitionend,g.onScrollTransitionEnd,!1)):(g.scrollendtrapped&&clearTimeout(g.scrollendtrapped),g.scrollendtrapped=setTimeout(g.onScrollTransitionEnd,t)),o=o,g.timerscroll={bz:new c(e,g.newscrolly,t,0,0,.58,1),bh:new c(o,g.newscrollx,t,0,0,.58,1)},g.cursorfreezed||(g.timerscroll.tm=setInterval(function(){g.showCursor(g.getScrollTop(),g.getScrollLeft())},60))),g.synched("doScroll-set",function(){g.timer=0,g.scrollendtrapped&&(g.scrollrunning=!0),g.setScrollTop(g.newscrolly),g.setScrollLeft(g.newscrollx),g.scrollendtrapped||g.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!g.scrollendtrapped)return!0;var e=g.getScrollTop(),o=g.getScrollLeft();return g.scrollrunning=!1,f.transitionend||clearTimeout(f.transitionend),g.scrollendtrapped=!1,g._unbind(g.doc[0],f.transitionend,g.onScrollTransitionEnd),g.prepareTransition(0),g.setScrollTop(e),g.railh&&g.setScrollLeft(o),g.timerscroll&&g.timerscroll.tm&&clearInterval(g.timerscroll.tm),g.timerscroll=!1,g.cursorfreezed=!1,g.showCursor(e,o),g},this.onScrollTransitionEnd=function(){g.scrollendtrapped&&g._unbind(g.doc[0],f.transitionend,g.onScrollTransitionEnd),g.scrollendtrapped=!1,g.prepareTransition(0),g.timerscroll&&g.timerscroll.tm&&clearInterval(g.timerscroll.tm),g.timerscroll=!1;var e=g.getScrollTop(),o=g.getScrollLeft();if(g.setScrollTop(e),g.railh&&g.setScrollLeft(o),g.noticeCursor(!1,e,o),g.cursorfreezed=!1,e<0?e=0:e>g.page.maxh&&(e=g.page.maxh),o<0?o=0:o>g.page.maxw&&(o=g.page.maxw),e!=g.newscrolly||o!=g.newscrollx)return g.doScrollPos(o,e,g.opt.snapbackspeed);g.onscrollend&&g.scrollrunning&&g.triggerScrollEnd(),g.scrollrunning=!1}):(this.doScrollLeft=function(e,o){var t=g.scrollrunning?g.newscrolly:g.getScrollTop();g.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=g.scrollrunning?g.newscrollx:g.getScrollLeft();g.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){o=void 0===o||!1===o?g.getScrollTop(!0):o;if(g.timer&&g.newscrolly==o&&g.newscrollx==e)return!0;g.timer&&p(g.timer),g.timer=0;var r=g.getScrollTop(),i=g.getScrollLeft();((g.newscrolly-r)*(o-r)<0||(g.newscrollx-i)*(e-i)<0)&&g.cancelScroll(),g.newscrolly=o,g.newscrollx=e,g.bouncescroll&&g.rail.visibility||(g.newscrolly<0?g.newscrolly=0:g.newscrolly>g.page.maxh&&(g.newscrolly=g.page.maxh)),g.bouncescroll&&g.railh.visibility||(g.newscrollx<0?g.newscrollx=0:g.newscrollx>g.page.maxw&&(g.newscrollx=g.page.maxw)),g.dst={},g.dst.x=e-i,g.dst.y=o-r,g.dst.px=i,g.dst.py=r;var n=Math.round(Math.sqrt(Math.pow(g.dst.x,2)+Math.pow(g.dst.y,2)));g.dst.ax=g.dst.x/n,g.dst.ay=g.dst.y/n;var s=0,l=n;0==g.dst.x?(s=r,l=o,g.dst.ay=1,g.dst.py=0):0==g.dst.y&&(s=i,l=e,g.dst.ax=1,g.dst.px=0);var a,n=g.getTransitionSpeed(n);t&&t<=1&&(n*=t),g.bzscroll=0<n&&(g.bzscroll?g.bzscroll.update(l,n):new c(s,l,n,0,1,0,1)),g.timer||((r==g.page.maxh&&o>=g.page.maxh||i==g.page.maxw&&e>=g.page.maxw)&&g.checkContentSize(),a=1,g.cancelAnimationFrame=!1,g.timer=1,g.onscrollstart&&!g.scrollrunning&&(n={type:"scrollstart",current:{x:i,y:r},request:{x:e,y:o},end:{x:g.newscrollx,y:g.newscrolly},speed:n},g.onscrollstart.call(g,n)),function e(){if(g.cancelAnimationFrame)return!0;if(g.scrollrunning=!0,a=1-a)return g.timer=h(e)||1;var o,t=0,r=n=g.getScrollTop();g.dst.ay?(((i=(r=g.bzscroll?g.dst.py+g.bzscroll.getNow()*g.dst.ay:g.newscrolly)-n)<0&&r<g.newscrolly||0<i&&r>g.newscrolly)&&(r=g.newscrolly),g.setScrollTop(r),r==g.newscrolly&&(t=1)):t=1;var i,n=o=g.getScrollLeft();g.dst.ax?(((i=(n=g.bzscroll?g.dst.px+g.bzscroll.getNow()*g.dst.ax:g.newscrollx)-o)<0&&n<g.newscrollx||0<i&&n>g.newscrollx)&&(n=g.newscrollx),g.setScrollLeft(n),n==g.newscrollx&&(t+=1)):t+=1,2==t?(g.timer=0,g.cursorfreezed=!1,g.bzscroll=!1,g.scrollrunning=!1,r<0?r=0:r>g.page.maxh&&(r=g.page.maxh),n<0?n=0:n>g.page.maxw&&(n=g.page.maxw),n!=g.newscrollx||r!=g.newscrolly?g.doScrollPos(n,r):g.onscrollend&&g.triggerScrollEnd()):g.timer=h(e)||1}(),(r==g.page.maxh&&r<=o||i==g.page.maxw&&i<=e)&&g.checkContentSize(),g.noticeCursor())},this.cancelScroll=function(){return g.timer&&p(g.timer),g.timer=0,g.bzscroll=!1,g.scrollrunning=!1,g}):(this.doScrollLeft=function(e,o){var t=g.getScrollTop();g.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=g.getScrollLeft();g.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=e>g.page.maxw?g.page.maxw:e;r<0&&(r=0);var i=o>g.page.maxh?g.page.maxh:o;i<0&&(i=0),g.synched("scroll",function(){g.setScrollTop(i),g.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0;t=o?Math.floor((g.scroll.y-e)*g.scrollratio.y):(g.timer?g.newscrolly:g.getScrollTop(!0))-e,g.bouncescroll&&(t<-(r=Math.round(g.view.h/2))?t=-r:t>g.page.maxh+r&&(t=g.page.maxh+r)),g.cursorfreezed=!1;var r=g.getScrollTop(!0);return t<0&&r<=0?g.noticeCursor():t>g.page.maxh&&r>=g.page.maxh?(g.checkContentSize(),g.noticeCursor()):void g.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0;t=o?Math.floor((g.scroll.x-e)*g.scrollratio.x):(g.timer?g.newscrollx:g.getScrollLeft(!0))-e,g.bouncescroll&&(t<-(r=Math.round(g.view.w/2))?t=-r:t>g.page.maxw+r&&(t=g.page.maxw+r)),g.cursorfreezed=!1;var r=g.getScrollLeft(!0);return t<0&&r<=0||t>g.page.maxw&&r>=g.page.maxw?g.noticeCursor():void g.doScrollLeft(t)},this.doScrollTo=function(e,o){o=o?Math.round(e*g.scrollratio.y):e;o<0?o=0:o>g.page.maxh&&(o=g.page.maxh),g.cursorfreezed=!1,g.doScrollTop(e)},this.checkContentSize=function(){var e=g.getContentSize();e.h==g.page.h&&e.w==g.page.w||g.resize(!1,e)},g.onscroll=function(e){g.rail.drag||g.cursorfreezed||g.synched("scroll",function(){g.scroll.y=Math.round(g.getScrollTop()*(1/g.scrollratio.y)),g.railh&&(g.scroll.x=Math.round(g.getScrollLeft()*(1/g.scrollratio.x))),g.noticeCursor()})},g.bind(g.docscroll,"scroll",g.onscroll),this.doZoomIn=function(e){if(!g.zoomactive){g.zoomactive=!0,g.zoomrestore={style:{}};var o,t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],r=g.win[0].style;for(o in t){var i=t[o];g.zoomrestore.style[i]=void 0!==r[i]?r[i]:""}g.zoomrestore.style.width=g.win.css("width"),g.zoomrestore.style.height=g.win.css("height"),g.zoomrestore.padding={w:g.win.outerWidth()-g.win.width(),h:g.win.outerHeight()-g.win.height()},f.isios4&&(g.zoomrestore.scrollTop=x(window).scrollTop(),x(window).scrollTop(0)),g.win.css({position:f.isios4?"absolute":"fixed",top:0,left:0,"z-index":y+100,margin:"0px"});var n=g.win.css("backgroundColor");return""!=n&&!/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n)||g.win.css("backgroundColor","#fff"),g.rail.css({"z-index":y+101}),g.zoom.css({"z-index":y+102}),g.zoom.css("backgroundPosition","0px -18px"),g.resizeZoom(),g.onzoomin&&g.onzoomin.call(g),g.cancelEvent(e)}},this.doZoomOut=function(e){if(g.zoomactive)return g.zoomactive=!1,g.win.css("margin",""),g.win.css(g.zoomrestore.style),f.isios4&&x(window).scrollTop(g.zoomrestore.scrollTop),g.rail.css({"z-index":g.zindex}),g.zoom.css({"z-index":g.zindex}),g.zoomrestore=!1,g.zoom.css("backgroundPosition","0px 0px"),g.onResize(),g.onzoomout&&g.onzoomout.call(g),g.cancelEvent(e)},this.doZoom=function(e){return g.zoomactive?g.doZoomOut(e):g.doZoomIn(e)},this.resizeZoom=function(){var e;g.zoomactive&&(e=g.getScrollTop(),g.win.css({width:x(window).width()-g.zoomrestore.padding.w+"px",height:x(window).height()-g.zoomrestore.padding.h+"px"}),g.onResize(),g.setScrollTop(Math.min(g.page.maxh,e)))},this.init(),x.nicescroll.push(this)}var n,S=window.MutationObserver||window.WebKitMutationObserver||!1,z={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:0<(n=(n=document.getElementsByTagName("script"))[n.length-1].src.split("?")[0]).split("/").length?n.split("/").slice(0,-1).join("/")+"/":"",preventmultitouchscrolling:!0},c=!1,T=function(e){var d=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,o){d.stop();var t=d.time();d.steptime=0,d.lasttime=t,d.speedx=0,d.speedy=0,d.lastx=e,d.lasty=o,d.lastscrollx=-1,d.lastscrolly=-1},this.update=function(e,o){var t=d.time();d.steptime=t-d.lasttime,d.lasttime=t;var r=o-d.lasty,i=e-d.lastx,n=d.nc.getScrollTop()+r,t=d.nc.getScrollLeft()+i;d.snapx=t<0||t>d.nc.page.maxw,d.snapy=n<0||n>d.nc.page.maxh,d.speedx=i,d.speedy=r,d.lastx=e,d.lasty=o},this.stop=function(){d.nc.unsynched("domomentum2d"),d.timer&&clearTimeout(d.timer),d.timer=0,d.lastscrollx=-1,d.lastscrolly=-1},this.doSnapy=function(e,o){var t=!1;o<0?t=!(o=0):o>d.nc.page.maxh&&(o=d.nc.page.maxh,t=!0),e<0?t=!(e=0):e>d.nc.page.maxw&&(e=d.nc.page.maxw,t=!0),t?d.nc.doScrollPos(e,o,d.nc.opt.snapbackspeed):d.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=d.time(),t=e?o+e:d.lasttime,r=d.nc.getScrollLeft(),e=d.nc.getScrollTop(),i=d.nc.page.maxh,n=d.nc.page.maxw;d.speedx=0<n?Math.min(60,d.speedx):0,d.speedy=0<i?Math.min(60,d.speedy):0;t=t&&o-t<=60;(e<0||i<e||r<0||n<r)&&(t=!1);var s,l,a,c,r=!(!d.speedy||!t)&&d.speedy,t=!(!d.speedx||!t)&&d.speedx;r||t?(50<(s=Math.max(16,d.steptime))&&(t=s/50,d.speedx*=t,d.speedy*=t,s=50),d.demulxy=0,d.lastscrollx=d.nc.getScrollLeft(),d.chkx=d.lastscrollx,d.lastscrolly=d.nc.getScrollTop(),d.chky=d.lastscrolly,l=d.lastscrollx,a=d.lastscrolly,(c=function(){var e=600<d.time()-o?.04:.02;d.speedx&&(l=Math.floor(d.lastscrollx-d.speedx*(1-d.demulxy)),((d.lastscrollx=l)<0||n<l)&&(e=.1)),d.speedy&&(a=Math.floor(d.lastscrolly-d.speedy*(1-d.demulxy)),((d.lastscrolly=a)<0||i<a)&&(e=.1)),d.demulxy=Math.min(1,d.demulxy+e),d.nc.synched("domomentum2d",function(){d.speedx&&(d.nc.getScrollLeft()!=d.chkx&&d.stop(),d.chkx=l,d.nc.setScrollLeft(l)),d.speedy&&(d.nc.getScrollTop()!=d.chky&&d.stop(),d.chky=a,d.nc.setScrollTop(a)),d.timer||(d.nc.hideCursor(),d.doSnapy(l,a))}),d.demulxy<1?d.timer=setTimeout(c,s):(d.stop(),d.nc.hideCursor(),d.doSnapy(l,a))})()):d.doSnapy(d.nc.getScrollLeft(),d.nc.getScrollTop())}},s=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,o,t){var r=x.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():s.call(e)},set:function(e,o){var t=x.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollTop(parseInt(o)):s.call(e,o),this}},e.fn.scrollTop=function(o){if(void 0!==o)return this.each(function(){var e=x.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(o)):s.call(x(this),o)});var e=this[0]&&x.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():s.call(this)};var l=e.fn.scrollLeft;x.cssHooks.pageXOffset={get:function(e,o,t){var r=x.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():l.call(e)},set:function(e,o){var t=x.data(e,"__nicescroll")||!1;return t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):l.call(e,o),this}},e.fn.scrollLeft=function(o){if(void 0!==o)return this.each(function(){var e=x.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(o)):l.call(x(this),o)});var e=this[0]&&x.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():l.call(this)};function a(e){var r=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var o=0,t=0;o<r.length;o++)e.call(r[o],t++);return r},this.push=function(e){r[r.length]=e,r.length++},this.eq=function(e){return r[e]},e)for(var o=0;o<e.length;o++){var t=x.data(e[o],"__nicescroll")||!1;t&&(this[this.length]=t,this.length++)}return this}!function(e,o,t){for(var r=0;r<o.length;r++)t(e,o[r])}(a.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new a(this):this[e]&&x.data(this[e],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(e){return!!x.data(e,"__nicescroll")}}),x.fn.niceScroll=function(e,o){void 0===o&&("object"!=typeof e||"jquery"in e||(o=e,e=!1)),o=x.extend({},o);var t=new a;void 0===o&&(o={}),e&&(o.doc=x(e),o.win=x(this));var r=!("doc"in o);return r||"win"in o||(o.win=x(this)),this.each(function(){var e=x(this).data("__nicescroll")||!1;e||(o.doc=r?x(this):o.doc,e=new i(o,x(this)),x(this).data("__nicescroll",e)),t.push(e)}),1==t.length?t[0]:t},window.NiceScroll={getjQuery:function(){return e}},x.nicescroll||(x.nicescroll=new a,x.nicescroll.options=z)});